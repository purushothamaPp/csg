FROM centos:7
RUN yum install java-11-openjdk -yum
RUN echo "export JAVA_HOME=/usr/lib/jvm/jre-11-openjdk && export PATH=$PATH:JAVA_HOME/bin" >> ~/.bashrc
RUN source ~/.bashrc
ADD https://dlcdn.apache.org/tomcat/tomcat-10/v10.0.27/bin/apache-tomcat-10.0.27.tar.gz  /opt
WORKDIR /opt
RUN tar -xzf apache-tomcat-10.0.27.tar.gz
EXPOSE 8080
ADD https://get.jenkins.io/war-stable/2.361.2/jenkins.war  /opt/apache-tomcat-10.0.27/webapps
WORKDIR /opt/apache-tomcat-10
CMD ["/opt/apache-tomcat-10.0.27/bin/catalina.sh", "run"]
